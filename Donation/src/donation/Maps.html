<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
        <script src='https://api.mapbox.com/mapbox-gl-js/v1.7.0/mapbox-gl.js'></script>
        <link href='https://api.mapbox.com/mapbox-gl-js/v1.7.0/mapbox-gl.css' rel='stylesheet' />
        <style>
            body { margin: 0; padding: 0; }
            #map { position: absolute; top: 0; bottom: 0; width: 100%; }
        </style>
    </head>
    <body>
        <div id='map'></div>
        <script>
            var map = new mapboxgl.Map({
                accessToken: 'pk.eyJ1Ijoic2FtaW1lc3Nhb3VkaSIsImEiOiJjazZweTJpYjcwY2RkM2xuOWJmcTY4ZGVtIn0.eTDZLW5JBIGHv2YjZDD7zQ',
                container: 'map',
                style: 'mapbox://styles/mapbox/satellite-streets-v11',
                center: [9.9899199, 33.7545921],
                zoom: 4
            });
            var marker = new mapboxgl.Marker();

            function initAdd() {
                map.on('click', function(event) {
                    marker.setLngLat(event.lngLat).addTo(map);
                });
            }
            function initUpdate(longitude, latitude) {
                map.setCenter([longitude, latitude]);
                marker.setLngLat([longitude, latitude]).addTo(map);
                map.on('click', function(event) {
                    marker.setLngLat(event.lngLat);
                });
            }
            function initDisplay(longitude, latitude) {
                map.setCenter([longitude, latitude]);
                marker.setLngLat([longitude, latitude]).addTo(map);
            }
            function getMarkerPosLat() {
                return marker.getLngLat().toArray()[0];
            }
            function getMarkerPosLon() {
                return marker.getLngLat().toArray()[1];
            }
        </script>
    </body>
</html>